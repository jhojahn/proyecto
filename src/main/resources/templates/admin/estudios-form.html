<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Estudios</title>
    <style>
        body{background:#6c63ff;font-family:Arial}
        .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center}
        .card{background:#fff;padding:25px;border-radius:16px;width:750px}
        .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
        input{width:100%;padding:10px;border-radius:10px;border:1px solid #ccc}
        .actions{text-align:right;margin-top:15px}
        .btn{padding:10px 16px;border-radius:12px;font-weight:600;border:none}
        .save{background:#6c63ff;color:white}
    </style>
</head>

<body>
<div class="wrap">
    <div class="card">

        <h2>Agregar Estudios</h2>

        <form th:action="@{/admin/estudios/guardar}" th:object="${estudio}" method="post">

            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

            <div class="grid">
                <input th:field="*{titulo}" placeholder="Título">
                <input th:field="*{institucion}" placeholder="Institución">
                <input type="date" th:field="*{fecha_inicio}">
                <input type="date" th:field="*{fecha_fin}">
            </div>

            <input th:field="*{descripcion}" placeholder="Descripción">

            <div class="actions">
                <button type="submit">Guardar</button>

                <a th:href="@{/admin}">
                    <button type="button">Volver al panel </button>
                </a>
            </div>

        </form>

        <div class="list">
            <h3 style="margin:0">Añadidos</h3>

            <div th:if="${#lists.isEmpty(estudios)}" style="color:#666">
                No hay estudios todavía.
            </div>

            <div class="item" th:each="e : ${estudios}">
                <div>
                    <h4 th:text="${e.titulo}">Título</h4>
                    <p><b>Institución:</b> <span th:text="${e.institucion}">---</span></p>
                    <p><b>Descripción:</b> <span th:text="${e.descripcion}">---</span></p>
                    <p style="margin-top:6px;color:#888">
                        <span th:text="${#dates.format(e.fecha_inicio,'yyyy-MM-dd')}">2026-01-01</span>
                        -
                        <span th:text="${#dates.format(e.fecha_fin,'yyyy-MM-dd')}">2026-02-01</span>
                    </p>
                </div>


                <form th:action="@{/admin/estudios/{id}(id=${e.id})}" method="post">
                    <input type="hidden" name="_method" value="delete"/>
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <button type="submit" class="del">Eliminar</button>
                </form>
            </div>
        </div>

    </div>
</div>

</body>
</html>
